<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LRS test</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/experiment.css">
</head>
<body>
    <header class="header">
        <a href="../index.html"><h1>LRS by JavaScript</h1></a>
        <h3>LRS Experiment</h3>

        <div>
            <a href="https://github.com/ym28-it/lrs-web-app.git" target="_blank" rel="noopener" title="View on GitHub">
                <img src="../images/github-mark/github-mark.png" alt="GitHub">

            </a>
        </div>
    </header>

    <main class="main">
        <p>In this mode, selected modules are executed in sequence against uploaded inputs and execution time is measured.</p>
        <label for="fileInput">Upload Input Files:</label>
        <input type="file" id="fileInput" multiple>

        <div class="io-wrapper">
            <div id="inputAreaContainer">
                <label for="inputArea">Input files Waiting List:</label>
                <textarea id="inputArea" rows="10" cols="20" readonly></textarea>

                <div id="moduleSelection">
                    <p><strong>Select Modules:</strong></p>
                    <div id="moduleCheckboxes">
                        <label><input type="checkbox" value="lrs-long64-safe.js"> lrs-long64-safe.js</label><br>
                        <label><input type="checkbox" value="lrs-long128-safe.js"> lrs-long128-safe.js</label><br>
                        <label><input type="checkbox" value="lrs-gmp.js"> lrs-gmp.js</label><br>
                        <label><input type="checkbox" value="lrs-minigmp.js"> lrs-minigmp.js</label><br>
                        <label><input type="checkbox" value="hybrid-gmp.js"> hybrid-gmp.js</label><br>
                        <label><input type="checkbox" value="hybrid-minigmp.js"> hybrid-minigmp.js</label><br>
                        <label><input type="checkbox" value="lrs-long64-unsafe.js"> lrs-long64-unsafe.js</label><br>
                        <label><input type="checkbox" value="lrs-long128-unsafe.js"> lrs-long128-unsafe.js</label><br>
                    </div>
                    <button type="button" id="selectAllModules">Select All</button>
                    <button type="button" id="clearAllModules">Clear</button>
                    <button type="submit" id="runProgram">
                        Submit
                        <span class="tooltip">Ctrl+Enter or Cmd+Enter</span>
                    </button>
                </div>
            </div>

            <div id="loadingIndicator"></div>

            <div id="resultAreaContainer">
                <label for="resultArea">Experiment-Result:</label>
                <textarea id="resultArea" rows="10" cols="20" readonly></textarea>
                <label for="resultFileName">Result File Name:</label>
                <input type="text" id="ResultFileName" placeholder="experiment-result.txt"><br>
                <button type="submit" id="downloadResult">Download Result</button>
            </div>
        </div>
        

        <div>
            <h4>Execution Time Graph</h4>
            <canvas id="executionChart" width="800" height="400"></canvas>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="module" src="./chart.js"></script>
    <script type="module" src="./experiment.js"></script>
</body>